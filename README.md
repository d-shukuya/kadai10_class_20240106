# kadai10_class_20240106
「10_RDB」の課題用リポジトリ

# 『 DogEarApp 』
引き続きブックマークアプリをアップデート。追加内容は下記。
- ログインパスワードのハッシュ化
- クラス化、MVC化などのリファクタリング
- レンタルサーバーへデプロイ

## DEMO
- https://snowsheep3.sakura.ne.jp/dog_ear_app/

## 紹介と使い方
ドッグイヤーを記録するアプリです。

### ＜機能＞
1. 書籍を登録
   - 書籍名、画像、リンク、メモを登録できる
2. 書籍のドッグイヤーを登録
   - ページ、行、メモを登録できる

## 工夫した点
- 並び順をドラッグアンドドロップで入れ替えられるようにした！
  - 並び替えを行った際に、DBの変更しなければならないレコードを少なくするDB構成にした
    - 下記参考サイトの「方法６」を採用。理由は、人が管理できる本やドッグイヤーの数は高が知れているので、有限個のリストしか対応できない方法であっても、DB負荷が少ないものを選んだ。
- 出来るだけ php スクリプトも再利用できるようにし、PHP から PHP へ POST して使うなど、工夫した。

## 苦戦した点
- ドラッグアンドドロップの制御を入れたところ、リストの追加や削除など、多くの箇所に追記が必要になり、結構大変だった。
- リファクタリングしてファイルが分割され、かつフォルダも階層が増えたことにより、参照が難しくなった。「__DIR__」を使って参照場所を整理した。
- 各ファイルの分離・統合・配置換えがかなり大変だった。最終的に下記のような構造になった。

TOP
　├model
　│　└class化したmodelファイル（5ファイル）
　│
　├view
　│　├html
　│　│　└htmlを記載したphpファイル（3ファイル）
　│　├css
　│　│　└cssファイル（4ファイル）
　│　├js
　│　│　└jsファイル（3ファイル）
　│　└htmlを動的に作成するviewファイル（4ファイル）
　│
　└controller
　 　├act_list
　 　│　└スクリプトを記載したphpファイル（10ファイル）
　 　└画面表示のための遷移先Controllerファイル（4ファイル）


## 参考にした web サイトなど
- https://zenn.dev/itte/articles/e97002637cd3a6

## 作業時間
- 10h